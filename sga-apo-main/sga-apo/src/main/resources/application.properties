# --- Configuração Geral ---
# Ativa o perfil "dev" (H2) por padrão.
# Para usar o Supabase (produção), mude esta linha para "prod".
spring.profiles.active=dev

# ===================================================
# Perfil de Desenvolvimento (dev) - H2
# ===================================================
spring.config.activate.on-profile=dev

# Configuração do H2 Database
spring.datasource.url=jdbc:h2:mem:sga-apo-db
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Habilita o console do H2 no navegador (http://localhost:8080/h2-console)
spring.h2.console.enabled=true

# Configuração do JPA/Hibernate para DEV
# "update": Cria ou atualiza as tabelas automaticamente com base nas suas @Entity.
spring.jpa.hibernate.ddl-auto=update
# Mostra no console o SQL que o Hibernate está executando (bom para debug)
spring.jpa.show-sql=true
# Corrige o erro de "Lazy Loading" do Hibernate com o Jackson (JSON)
spring.jackson.serialization.fail-on-empty-beans=false